# Nvidia Driver on host is required for this config
subnode_config {
    # Camera node. publish pb with non-zero int
    subnodes {
        id: 3
        name: "CameraProcessSubnode"
        reserve: "device_id:camera;pb_obj:1;pb_ln_msk_:0;"
        type: SUBNODE_IN
    }
        # 64-Lidar Input nodes.
    subnodes {
        id: 1
        name: "Lidar64ProcessSubnode"
        reserve: "device_id:velodyne64;"
        type: SUBNODE_IN
    }

    # Front radar Input nodes.
    subnodes {
        id: 2
        name: "RadarProcessSubnode"
        reserve: "device_id:radar_front;"
        type: SUBNODE_IN
    }
    # Visualization node with OpenGL
    subnodes {
        id: 41
        name: "VisualizationSubnode"
        reserve: "vis_driven_event_id:1008;camera_event_id:1008;radar_event_id:1091"
    }
}

###################################################################
# Define all edges which link nodes.
edge_config {
		# CameraProcessSubnode -> VisualizationSubnode
    edges {
        id: 108
        from_node: 3
        to_node: 41
        events {
            id: 1008
            name: "camera_visualization"
        }
    }
        # Lidar64ProcessSubnode -> VisualizationSubnode
    edges {
        id: 101
        from_node: 1
        to_node: 41
        events {
            id: 1090
            name: "lidar_fusion"
        }
    }

        # Radar RadarProcessSubnode -> VisualizationSubnode
    edges {
        id: 102
        from_node: 2
        to_node: 41
        events {
            id: 1091
            name: "radar_visualization"
        }
    }
}

# Shared Data
data_config {
    datas {
        id: 1
        name: "LidarObjectData"
    }
    datas {
        id: 2
        name: "RadarObjectData"
    }
    datas {
        id: 5
        name: "CameraObjectData"
    }
    datas {
        id: 7
        name: "CameraSharedData"
    }
}
